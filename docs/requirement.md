# チーム分けアプリ仕様書 (Team Divider for only NAiS)

## 1. アプリ概要

- **アプリ名**: Team Divider for only NAiS
- **目的**: NAiS メンバーと KAG メンバーを含むプロジェクトのチーム（WIP）分けを、特定の条件下でランダムに行う。
- **プラットフォーム**: Web ブラウザ (Single Page Application)
- **デプロイ先**: GitHub Pages (静的ホスティング)

### 技術スタック推奨

- React
- Tailwind CSS
- DaisyUI (UI コンポーネントライブラリ)
- Lucide React (アイコン)

## 2. 画面構成

単一画面（1 画面完結型）で構成する。以下のセクションを縦に配置する。

- **ヘッダーエリア**: アプリタイトル表示 (Navbar コンポーネント推奨)
- **メンバー管理エリア**: メンバーの表示、追加、削除、リセット
- **構成設定エリア**: チーム数(WIP 数)と、内訳パターンの設定
- **アクションエリア**: 実行ボタン
- **結果表示エリア**: チーム分け結果、コピー機能

## 3. 機能詳細要件

### 3.1 メンバー管理機能

初期メンバーとして以下のリストを保持する。

**NAiS メンバー (初期値)**:

- 山本
- 石澤
- 石井
- 中西
- 小久保

**KAG メンバー (初期値)**:

- 岡本
- 高崎
- 山中
- 井黒
- 蓮沼

#### 操作要件

- **表示**: NAiS グループと KAG グループを分けて表示する。
- **追加**: 名前と所属(NAiS/KAG)を指定してメンバーを追加できる。
- **削除**: 各メンバーの横に削除ボタン（btn-ghost btn-xs など）を配置。
- **編集**: メンバー名の修正が可能。
- **初期化（巻き戻し）**: メンバーリストを上記の初期状態に戻す「リセットボタン」を設置する。

### 3.2 構成設定機能 (WIP 設定)

チーム分けのルールを定義するセクション。

#### 全体 WIP 数設定

- 作成するチームの総数（例: 3 チーム）を選択または入力する。
- DaisyUI の Range スライダーや Number Input を活用する。

#### パターン制約設定 (Advanced Rules)

各 WIP に対して、以下の条件を追加できるようにする。

**設定項目**:

- **構成タイプ**: 「NAiS のみ」「KAG のみ」「混合(KAG+NAiS)」から選択
- **チーム数**: その構成で作るチームの数
- **人数**: 1 チームあたりの人数

**UI イメージ**: 「＋条件を追加」ボタンでルール行を増やせる形。

#### バリデーション

設定された人数が、現在のメンバー総数や所属ごとの人数を超過している場合、リアルタイムまたは実行時にエラーメッセージを表示する（Alert コンポーネント使用）。

**例**: 「NAiS メンバーが足りません（必要: 6, 現在: 5）」

### 3.3 チーム作成ロジック (アルゴリズム)

「チーム作成」ボタン押下時に実行される。

#### 優先順位

1. **制約の適用**: 設定された「パターン制約」を先に満たすようにメンバーをランダム抽出して埋める。
2. **残りの処理**: 制約で指定されなかった残りの WIP（チーム）枠と、残りのメンバーを使って、完全にランダムに割り振る。
   - 残りのメンバーは所属に関係なく混合プールとして扱う。
   - 端数が出る場合は、可能な限り均等になるように配分する。

### 3.4 UI/UX・演出

#### デザインテーマ

- DaisyUI を全面的に採用し、モダンでクリーンなデザインにする。
- テーマ（例: winter, cupcake, nord など）を設定し、視認性を高める。

#### 主要コンポーネント

- **カード**: card, card-body
- **ボタン**: btn, btn-primary, btn-outline
- **バッジ**: badge, badge-primary, badge-secondary
- **入力**: input, select, range

#### アニメーション

チーム分け実行時、すぐに結果を出さず、ローディング表示（Loading コンポーネント）やシャッフルアニメーションを 1〜2 秒挟むこと。

#### 結果表示

- WIP ごとにカード形式でメンバーを表示する。
- 所属（NAiS/KAG）がわかるようにバッジで色分けを行う（例: NAiS=Primary, KAG=Secondary）。

#### クリップボードコピー

「結果をコピー」ボタンを設置。マークダウン形式で整形してコピーする。

**フォーマット例**:

```markdown
### WIP 1 (NAiS Only)

- 山本
- 石澤

### WIP 2

- 岡本
- 石井
```

## 4. エラーハンドリング

- メンバー数が 0 の場合の実行防止。
- チーム数がメンバー数より多い場合の警告。
- 制約条件が論理的に満たせない場合の警告表示（Alert コンポーネントを使用）。

## 5. 将来的な拡張性 (File Structure)

GitHub Pages へのデプロイを見据え、ビルド成果物が静的ファイル(index.html, assets/)になる構成とする。
