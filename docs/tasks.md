# タスク管理表

このドキュメントは、チーム分けアプリ開発における全タスクを管理します。
TDD（テスト駆動開発）アプローチに基づき、各フェーズを段階的に進めます。

## 進捗状況

- ⬜️ 未着手
- 🔄 作業中
- ✅ 完了
- ⏸️ 保留
- ❌ ブロック

---

## フェーズ 1: プロジェクト基盤構築

### 1.1 プロジェクトセットアップ

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | Vite プロジェクト作成 | `npm create vite@latest` で React + TypeScript プロジェクト作成 | | |
| ⬜️ | Git リポジトリ初期化 | `.gitignore` 設定、初回コミット | | |
| ⬜️ | GitHub リポジトリ作成 | リモートリポジトリ作成、プッシュ | | |
| ⬜️ | プロジェクト構造作成 | `src/` 配下のフォルダ構成を作成 | | |

### 1.2 依存パッケージインストール

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | 本番依存関係インストール | React, Zustand, Lucide React | | |
| ⬜️ | スタイリング関連インストール | Tailwind CSS, DaisyUI, PostCSS, Autoprefixer | | |
| ⬜️ | 開発依存関係インストール | TypeScript, Vite プラグイン等 | | |
| ⬜️ | テスト関連インストール | Vitest, Testing Library, happy-dom 等 | | |
| ⬜️ | Linter/Formatter インストール | ESLint, Prettier, Husky, lint-staged | | |

### 1.3 設定ファイル作成

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | TypeScript 設定 | `tsconfig.json`, `tsconfig.node.json` 作成 | | |
| ⬜️ | Vite 設定 | `vite.config.ts` 作成（パスエイリアス `@/` 設定） | | |
| ⬜️ | Vitest 設定 | `vitest.config.ts` 作成（Testing Library 統合） | | |
| ⬜️ | Tailwind CSS 設定 | `tailwind.config.js`, `postcss.config.js` 作成 | | |
| ⬜️ | DaisyUI 設定 | Tailwind config に DaisyUI プラグイン追加 | | |
| ⬜️ | ESLint 設定 | `.eslintrc.cjs` 作成（React, TypeScript ルール） | | |
| ⬜️ | Prettier 設定 | `.prettierrc` 作成（Tailwind プラグイン含む） | | |
| ⬜️ | Husky/lint-staged 設定 | Pre-commit フック設定 | | |

### 1.4 GitHub Actions 設定

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | CI/CD ワークフロー作成 | `.github/workflows/deploy.yml` 作成 | | |
| ⬜️ | テストジョブ設定 | Lint, Type check, Test, Coverage | | |
| ⬜️ | デプロイジョブ設定 | GitHub Pages デプロイ設定 | | |
| ⬜️ | ワークフロー動作確認 | PR 作成してテスト実行確認 | | |

---

## フェーズ 2: 型定義・定数設定

### 2.1 型定義作成（`src/types/`）

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | `member.ts` 作成 | `MemberGroup`, `Member` インターフェース定義 | | |
| ⬜️ | `config.ts` 作成 | `TeamType`, `PatternRule`, `TeamConfig` 定義 | | |
| ⬜️ | `team.ts` 作成 | `Team`, `ValidationError`, `ValidationResult` 定義 | | |

### 2.2 定数・初期データ作成（`src/constants/`）

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | `initialData.ts` 作成 | NAiS/KAG 初期メンバーリスト定義 | | |

---

## フェーズ 3: コアロジック実装（TDD）

### 3.1 バリデーションロジック

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | `validator.test.ts` 作成 | テストケース記述（RED） | | |
| ⬜️ | `validator.ts` 実装 | `validateConfig` 関数実装（GREEN） | | |
| ⬜️ | リファクタリング | コード整理、最適化（REFACTOR） | | |

**テストケース例**:
- メンバー数 0 の場合エラー
- チーム数 > メンバー数の場合エラー
- NAiS メンバー不足の検出
- KAG メンバー不足の検出
- 正常ケース（バリデーション成功）

### 3.2 シャッフルアルゴリズム

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | `teamDivider.test.ts` 作成（シャッフル部分） | Fisher-Yates テスト記述 | | |
| ⬜️ | `shuffleArray` 実装 | Fisher-Yates アルゴリズム実装 | | |
| ⬜️ | ランダム性テスト | 分布の偏りがないか統計的検証 | | |

### 3.3 チーム分けロジック

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | `divideTeams` テスト作成 | 基本的な分割テスト | | |
| ⬜️ | 制約なしチーム分け実装 | 単純なランダム分割ロジック | | |
| ⬜️ | `applyPatternRules` テスト作成 | パターン制約適用テスト | | |
| ⬜️ | `applyPatternRules` 実装 | NAiS のみ/KAG のみ/混合チーム生成 | | |
| ⬜️ | `divideRemainingMembers` テスト | 残りメンバー分割テスト | | |
| ⬜️ | `divideRemainingMembers` 実装 | 残りメンバーを均等分割 | | |
| ⬜️ | 統合テスト | 全ケースの動作確認 | | |

**テストケース例**:
- 10 名を 2 チームに分割
- NAiS のみチーム作成
- KAG のみチーム作成
- 混合チーム作成
- 制約 + 残りメンバー混在ケース
- 端数処理（11 名を 3 チーム等）

### 3.4 ユーティリティ関数

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | `formatter.test.ts` 作成 | Markdown フォーマットテスト | | |
| ⬜️ | `formatter.ts` 実装 | チーム結果を Markdown 形式に変換 | | |
| ⬜️ | `clipboard.test.ts` 作成 | クリップボード操作テスト（モック使用） | | |
| ⬜️ | `clipboard.ts` 実装 | Clipboard API ラッパー実装 | | |

---

## フェーズ 4: 状態管理実装

### 4.1 Zustand ストア実装

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | `teamStore.ts` 作成 | 初期状態定義 | | |
| ⬜️ | メンバー操作アクション実装 | `addMember`, `removeMember`, `updateMember`, `resetMembers` | | |
| ⬜️ | 設定操作アクション実装 | `updateConfig`, `addPatternRule`, `removePatternRule` | | |
| ⬜️ | チーム作成アクション実装 | `createTeams`, `clearTeams` | | |
| ⬜️ | `teamStore.test.ts` 作成 | 統合テスト作成 | | |

**テストケース例**:
- メンバー追加・削除の動作確認
- メンバーリセット動作
- チーム作成実行とローディング状態管理
- エラーハンドリング

---

## フェーズ 5: UI コンポーネント実装

### 5.1 共通コンポーネント（DaisyUI ベース）

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | Badge コンポーネント | NAiS/KAG バッジ | | |
| ⬜️ | Loading コンポーネント | ローディングアニメーション | | |
| ⬜️ | Alert コンポーネント | エラー/警告表示 | | |

### 5.2 Header コンポーネント

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | `Header.tsx` 作成 | アプリタイトル表示（Navbar） | | |
| ⬜️ | `Header.test.tsx` 作成 | レンダリングテスト | | |

### 5.3 MemberManagement コンポーネント

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | `MemberList.tsx` 作成 | メンバー一覧表示 | | |
| ⬜️ | `MemberList.test.tsx` 作成 | 表示・削除ボタンテスト | | |
| ⬜️ | `MemberInput.tsx` 作成 | メンバー追加フォーム | | |
| ⬜️ | `MemberInput.test.tsx` 作成 | 入力・追加動作テスト | | |
| ⬜️ | メンバー編集機能実装 | インライン編集または編集モーダル | | |
| ⬜️ | リセットボタン実装 | 初期状態に戻す機能 | | |

### 5.4 TeamConfiguration コンポーネント

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | `TeamConfig.tsx` 作成 | 全体 WIP 数設定 UI | | |
| ⬜️ | `TeamConfig.test.tsx` 作成 | 設定変更テスト | | |
| ⬜️ | `PatternRule.tsx` 作成 | パターン制約設定 UI | | |
| ⬜️ | `PatternRule.test.tsx` 作成 | ルール追加・削除テスト | | |
| ⬜️ | バリデーション表示実装 | リアルタイムエラー表示 | | |

### 5.5 ActionArea コンポーネント

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | `ActionButtons.tsx` 作成 | チーム作成ボタン | | |
| ⬜️ | `ActionButtons.test.tsx` 作成 | ボタンクリックテスト | | |
| ⬜️ | ローディング状態連携 | ボタン無効化制御 | | |

### 5.6 ResultDisplay コンポーネント

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | `TeamCard.tsx` 作成 | 個別チームカード表示 | | |
| ⬜️ | `TeamCard.test.tsx` 作成 | カード表示テスト | | |
| ⬜️ | `TeamResult.tsx` 作成 | チーム結果一覧表示 | | |
| ⬜️ | `TeamResult.test.tsx` 作成 | 結果表示・コピー機能テスト | | |
| ⬜️ | クリップボードコピー実装 | Markdown 形式でコピー | | |
| ⬜️ | アニメーション実装 | カード表示アニメーション | | |

### 5.7 App 統合

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | `App.tsx` 作成 | 全コンポーネント統合 | | |
| ⬜️ | `App.test.tsx` 作成 | 統合テスト | | |
| ⬜️ | レスポンシブ対応 | モバイル・タブレット表示確認 | | |

---

## フェーズ 6: スタイリング・演出

### 6.1 デザインテーマ適用

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | DaisyUI テーマ選定 | `winter`, `cupcake`, `nord` 等から選択 | | |
| ⬜️ | テーマ適用確認 | 全画面でテーマ反映確認 | | |
| ⬜️ | カスタムカラー設定 | 必要に応じて色調整 | | |

### 6.2 アニメーション実装

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | ローディングアニメーション | チーム作成時 1〜2 秒の演出 | | |
| ⬜️ | シャッフルアニメーション | メンバー名がランダムに切り替わる演出 | | |
| ⬜️ | 結果表示アニメーション | カードがフェードイン | | |
| ⬜️ | ホバーエフェクト | ボタン・カードのホバー効果 | | |

### 6.3 アイコン配置

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | Lucide React アイコン導入 | ボタン・入力フォームにアイコン追加 | | |
| ⬜️ | アイコン統一感確認 | サイズ・色の統一 | | |

---

## フェーズ 7: エラーハンドリング・バリデーション強化

### 7.1 フロントエンドバリデーション

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | メンバー数 0 防止 | チーム作成ボタン無効化 | | |
| ⬜️ | チーム数過剰防止 | リアルタイム警告表示 | | |
| ⬜️ | 制約不整合検出 | パターンルール設定時の警告 | | |
| ⬜️ | 空白名入力防止 | メンバー追加時のバリデーション | | |

### 7.2 エラー表示 UI

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | Alert コンポーネント統合 | エラー時の Alert 表示 | | |
| ⬜️ | Toast 通知実装（オプション） | 操作成功時の通知 | | |

---

## フェーズ 8: テスト・品質保証

### 8.1 テストカバレッジ確認

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | Unit テストカバレッジ確認 | `features/`, `utils/` 100% 目標 | | |
| ⬜️ | Integration テストカバレッジ | `store/` 90%+ 目標 | | |
| ⬜️ | Component テストカバレッジ | `components/` 80%+ 目標 | | |
| ⬜️ | カバレッジレポート確認 | 未カバー箇所の特定と追加テスト | | |

### 8.2 手動テスト

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | 全機能動作確認 | E2E シナリオ手動実行 | | |
| ⬜️ | ブラウザ互換性確認 | Chrome, Firefox, Safari, Edge | | |
| ⬜️ | レスポンシブ確認 | モバイル、タブレット表示 | | |
| ⬜️ | エッジケーステスト | 極端な入力値での動作確認 | | |

### 8.3 パフォーマンス確認

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | ビルドサイズ確認 | バンドルサイズ最適化 | | |
| ⬜️ | ロード速度測定 | Lighthouse スコア確認 | | |

---

## フェーズ 9: アクセシビリティ対応

### 9.1 a11y 対応

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | セマンティック HTML | 適切なタグ使用確認 | | |
| ⬜️ | ARIA 属性追加 | 必要箇所に `aria-label` 等追加 | | |
| ⬜️ | キーボード操作対応 | Tab, Enter でのナビゲーション確認 | | |
| ⬜️ | カラーコントラスト確認 | WCAG AA 基準クリア | | |
| ⬜️ | スクリーンリーダー対応 | VoiceOver/NVDA での動作確認 | | |

---

## フェーズ 10: デプロイ・公開

### 10.1 GitHub Pages デプロイ

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | `vite.config.ts` base 設定 | リポジトリ名に応じた base パス設定 | | |
| ⬜️ | ビルド動作確認 | `npm run build` 成功確認 | | |
| ⬜️ | ローカルプレビュー確認 | `npm run preview` で動作確認 | | |
| ⬜️ | GitHub Pages 有効化 | Settings > Pages 設定 | | |
| ⬜️ | デプロイ実行 | main ブランチへマージ | | |
| ⬜️ | 公開 URL 動作確認 | 本番環境での全機能テスト | | |

### 10.2 ドキュメント整備

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | README.md 更新 | プロジェクト概要、セットアップ手順 | | |
| ⬜️ | 使い方ガイド追加 | ユーザー向け操作マニュアル | | |
| ⬜️ | 開発者向けガイド追加 | コントリビューション方法 | | |
| ⬜️ | ライセンス設定 | LICENSE ファイル追加 | | |

---

## オプション機能（将来拡張）

### Option 1: データ永続化

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | LocalStorage 対応 | メンバー・設定の保存 | | |
| ⬜️ | インポート/エクスポート機能 | JSON ファイルでのデータ管理 | | |

### Option 2: 履歴機能

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | チーム分け履歴保存 | 過去の結果を保存 | | |
| ⬜️ | 履歴表示 UI | 過去のチーム分け結果閲覧 | | |

### Option 3: E2E テスト導入

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | Playwright セットアップ | E2E テスト環境構築 | | |
| ⬜️ | 主要フローテスト作成 | メンバー追加→チーム作成→コピー | | |

### Option 4: テーマ切り替え機能

| ステータス | タスク | 詳細 | 担当 | 期限 |
|-----------|--------|------|------|------|
| ⬜️ | テーマ切り替え UI | DaisyUI テーマ選択ドロップダウン | | |
| ⬜️ | ダークモード対応 | システム設定追従 | | |

---

## チェックリスト：デプロイ前最終確認

### 機能確認

- [ ] メンバー追加・削除・編集が正常に動作
- [ ] メンバーリセットが初期状態に戻る
- [ ] チーム数設定が反映される
- [ ] パターン制約が正しく適用される
- [ ] バリデーションエラーが表示される
- [ ] チーム作成ボタンでチーム分けが実行される
- [ ] ローディングアニメーションが表示される
- [ ] 結果が正しく表示される
- [ ] クリップボードコピーが動作する

### テスト確認

- [ ] すべての Unit テストが Pass
- [ ] すべての Integration テストが Pass
- [ ] すべての Component テストが Pass
- [ ] カバレッジが目標値を達成
- [ ] CI/CD パイプラインが成功

### UI/UX 確認

- [ ] レスポンシブデザインが正常
- [ ] アニメーションが滑らか
- [ ] アクセシビリティ基準クリア
- [ ] ブラウザ互換性確認済み

### ドキュメント確認

- [ ] README.md が最新
- [ ] 技術仕様書が最新
- [ ] タスク管理表が最新
- [ ] コードコメントが適切

---

## 進捗メトリクス

### 全体進捗

- **総タスク数**: （タスク総数をカウント）
- **完了タスク**: 0
- **進行中タスク**: 0
- **未着手タスク**: （総タスク数）
- **進捗率**: 0%

### フェーズ別進捗

| フェーズ | 完了 / 総数 | 進捗率 |
|---------|------------|--------|
| フェーズ 1: 基盤構築 | 0 / 15 | 0% |
| フェーズ 2: 型定義・定数 | 0 / 4 | 0% |
| フェーズ 3: コアロジック | 0 / 20 | 0% |
| フェーズ 4: 状態管理 | 0 / 5 | 0% |
| フェーズ 5: UI 実装 | 0 / 25 | 0% |
| フェーズ 6: スタイリング | 0 / 8 | 0% |
| フェーズ 7: エラーハンドリング | 0 / 6 | 0% |
| フェーズ 8: テスト・品質保証 | 0 / 9 | 0% |
| フェーズ 9: a11y 対応 | 0 / 5 | 0% |
| フェーズ 10: デプロイ | 0 / 10 | 0% |

---

## 更新履歴

| 日付 | 更新内容 | 更新者 |
|------|---------|--------|
| 2025/11/23 | タスク管理表初版作成 | - |

---

**注意事項**:
- このタスク管理表は定期的に更新してください
- タスク完了時は速やかにステータスを更新してください
- ブロッカーが発生した場合は早急にエスカレーションしてください
- 各フェーズ完了時に振り返りを実施してください
